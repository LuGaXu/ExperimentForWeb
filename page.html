<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="page.css"/>
<title>luga笔记</title>
</head>

<body>
<div id="d1"></div>
<div id="d2"></div>
<div id="d3">
<div id="d31">
<h1> &nbsp;&nbsp;嵌入式知识小结</h1>
<p style="color:#666;font-size:12px">&nbsp;&nbsp; &nbsp;&nbsp;作者：佚名 &nbsp;&nbsp;创建时间：2014-11-24 18:06</p>
</div>
<div id="d32">
<p>
<strong>一、简答题</strong><br/>
1.什么是嵌入式系统？请说明嵌入式系统各种不同的应用（至少五种）？（7分）<br/>
嵌入式系统是"以应用为中心，以计算机技术为基础，软硬件可裁剪，适用于应用系统对功能、可靠性、成本、体积、功耗有严格要求的专用计算机系统"。
环境工程与自然：水文资料实时监测，防洪体系及水土质量监测、堤坝安全，地震监测网，实时气象信息网，水源和空气污染监测。<br/>
信息家电：空调，电视、音响、电子表、冰箱，防火防盗器<br/>
智能玩具：遥控汽车<br/>
汽车电子：汽车（内嵌GPS模块）、飞机<br/>
智能仪表<br/>
军用电子<br/>
通信设备：手机<br/>
工控设备：工业过程控制、数字机床、电力系统、电网安全、电网设备监测、石油化工系统<br/>
机器人：智能宠物<br/>
航天领域：火星探测器（火星车）<br/>
电子商务：公共交通无接触智能卡、自动售货机，各种智能ATM终端、公共电话卡发行系统<br/><br/>

2.请描述嵌入式系统的特点（5分）。<br/>
①　嵌入式系统通常是形式多样、面向特定应用的；<br/>
 ②　嵌入式系统得到多种类型的处理器和处理器体系结构的支持；<br/>
③　嵌入式系统通常极其关注成本；<br/>
④　嵌入式系统有实时性和可靠性的要求；<br/>
⑤　嵌入式系统使用的操作系统一般是适应多种处理器、可裁剪、轻量型、实时可靠、可固化的操作系统；<br/>
⑥　嵌入式系统的开发需要专门工具和特殊方法。<br/><br/>

3.嵌入式系统有哪些基本组成？<br/>
嵌入式系统一般由嵌入式硬件和软件组成
硬件：以微处理器为核心集成存储器和系统专用的输入/输出设备
软件：初始化代码及驱动、嵌入式操作系统和应用程序等，这些软件有机地结合在一起，形成系统特定的一体化软件。

4.嵌入式微处理器与通用微处理器之间的区别？（不一定考）
与通用微处理器相比的区别：
• 体积小、重量轻、可靠性高
• 功耗低
• 成本低：片上存储、引脚与封装、代码密度
• 工作温度、抗电磁干扰、可靠性等方面增强

5、	分支指令对流水线性能有何影响？如何解决？
分支指令将控制阻滞延时引入到流水线中，也就是我们通常所说的分支损失。是否执行条件分支BNE要等到指令的第三个时钟周期才能确定，因为第三个时钟周期才能计算出分支指令的目标地址。因此就有两个周期浪费在执行路径不明确的指令上。
解决办法就是引入延时分支，在这种形式的分支指令中，往往有一些直接跟在分支指令后面的指令被执行，无论分支指令是否执行它们都会被执行，这样在分支指令执行期间CPU能够让流水线保持满负载运行。

6.ARM处理器是如何处理中断和异常的？
中断的进入：
        保存CPSR位
        设置CPSR位（异常则设置异常状态）
        保存PC到LR中
        PC根据向量表设置对应的地址

中断的退出：
        CPSR的恢复
        PC的恢复

7.嵌入式系统的存储器系统的层次结构？
1.（CPU寄存器）寄存器组
2.（芯片内高速缓存）片内cache、写缓存、TCM、片内SRAM
3.（芯片外高速缓存）板卡级SRAM、DRAM和SRAM
4.（主存储器）FLASH PROM EPROM
5.（外部存储器）硬盘驱动器和光盘驱动器


8. 请比较忙等I/O和中断驱动I/O
忙等效率比较低，CPU在等待设备的时候不能做其他工作，无法同步进行输入输出。
中断IO允许设备更改CPU控制流。

9.单总线结构和双总线、多总线结构的优缺点？




10.实时操作系统UCOS-II如何从64个任务拓展到支持256任务？
在OS_CFG.H中 #define OS_LOWEST_PRIO           63改成#define OS_LOWEST_PRIO           254
由于新版的ucos已经支持自动根据OS_LOWEST_PRIO判断TBL的大小和算法了，所以不用修改。。
对于旧版本：需要在ucos_ii.h里修改TBL的大小（8改成16），然后在os_core.c里修改算法

11.叙述RTOS的主要特点，举例说明有哪些商业的RTOS
RTOS定义：对外来事件能在限定的响应时间内做出预定质量处理的计算机系统
特点：可移植性、强调实时性能、内核精简、抢占式内核、使用可重入函数、可配置、可裁剪、高可靠性。
举例：μC/OS-II，ThreadX，VxWorks，Linux/RT，FreeRTOS
选型原则：综合权衡
1.成本
2.可靠性
3.实时性
4.工具链
5.模块丰富
6.RTOS 内核 RAM、ROM 占用量
7.支持


12.什么是嵌入式软件的交叉开发？

采取宿主机和目标机的模式，软件开发在宿主机（通常是PC）上，目标机用于运行软件。


13.rtos的引导模式有哪些？
操作系统引导概念：将操作系统装入内存并开始执行的过程。
按时间效率和空间效率不同的要求，分为两种模式：
1.需要BootLoader的引导模式：节省空间，牺牲时间，适用于硬件成本低，运行速度快，但启动速度相对慢 
2.不需要BootLoader的引导模式：时间效率高，系统快速启动，直接在NOR flash或ROM系列非易失性存储介质中运行，但不满足运行速度的要求


二、问答题
1.比较常用的嵌入式软件体系结构
1)	轮转结构(round-robin)
主循环依次检查每个I/O设备，并为需要提供服务的设备提供服务。
  2)	状态机(state machine) 
  3)	带中断的轮转 
中断程序处理硬件特别紧急的需求，然后设置标记；主循环轮询这些标记，然后根据需求进行后续的处理。
  4)	中断 
  5)	函数队列 
  6)	实时操作系统Real time operating systems (RTOS) 

2.简述UCOS-II是如何响应中断的？/如何处理同步和通信的？/如何进行存储管理的？
任务调度：
μC/OS_II进行任务调度的思想是 "近似地每时每刻总是让优先级最高的就绪任务处于运行状态"μC/OS_II进行任务调度的依据就是任务就绪表 根据就绪表获得待运行任务的任务控制块指针  
中断：
μC/OS-II系统响应中断的过程为：
系统接收到中断请求后，这时如果CPU处于中断允许状态（即中断是开放的），系统就会中止正在运行的当前任务，保存寄存器，而按照中断向量的指向转而去运行中断服务子程序；当中断服务子程序的运行结束后，系统将会根据情况返回到被中止的任务继续运行或者转向运行另一个具有更高优先级别的就绪任务。
同步通信：
管理的核心是事件控制块ECB，同步可以通过开关中断实现。互斥使用信号量。
通信可以使用邮箱和消息队列实现。
存储管理：
ucos-II不划分内核和用户空间，系统只有一个地址空间。
管理：多个内存分区，每个分区的块大小相同，不同分区的块大小不同，为了解决碎片问题。


3.对于下面的进程
进程	执行时间	期限
P1     1             3
P2     1             4
P3     2             6
A、	用RMS策略调度这些进程 
B、	用EDF策略调度这些进程
在每种情况下 计算时间间隔等于进程周期最小公倍数的调度，时间从t=0开始
A.


B、





分层状态机的特点？
1.明确的起始状态
2.提供更多增加状态的方式
3.减少的了所需状态数目
4.





FSM实现方式？
1.switch case
2.状态表 ：维护一个二维状态表，横坐标表示当前状态，纵坐标表示输入，表中一个元素存储下一个状态和对应的操作。这一招易于维护，但是运行时间和存储空间的代价较大。
3.使用State Pattern
</p></div>
</div>
<div id="d4">
<div id="d41">
<img src="my.png" alt="user"  id="img1"/>
</div>
<div id="d42"><a id="a1" href="javascript">Laurinda</a></div>
<div id="d43">
<input type="button"  value="收藏本文"/>
</div>
<div id="d44">
<input type="button"  value="关注作者"/>
</div>
</div>
<div id="d5">
</div>

</body>
</html>
